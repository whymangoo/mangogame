<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë§ê³ ë¥¼ ì¡ì•„ë¼!</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            background-color: #f4f4f9;
            overflow: hidden; /* ë§ê³ ê°€ í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šë„ë¡ ì„¤ì • */
            user-select: none; /* ë“œë˜ê·¸ ë°©ì§€ */
        }

        /* ê²Œì„ ì˜ì—­ (í™”ë©´ ì „ì²´) */
        #game-area {
            position: relative;
            width: 100vw; /* ë·°í¬íŠ¸ ë„ˆë¹„ */
            height: 100vh; /* ë·°í¬íŠ¸ ë†’ì´ */
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
        }

        /* ìƒíƒœ í‘œì‹œ ì˜ì—­ */
        #status-bar {
            position: fixed; /* í•­ìƒ ìƒë‹¨ì— ê³ ì • */
            top: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 11px 0;
            border-bottom: 2px solid #ccc;
            z-index: 10;
        }

        #score-display {
            font-size: 3em;
            color: #FFC107; /* ë§ê³  ìƒ‰ìƒ */
            font-weight: bold;
            display: inline-block;
            margin-right: 30px;
        }

        #timer-display {
            font-size: 2em;
            color: #FF5722;
            display: inline-block;
        }

        /* ë§ê³  ìŠ¤íƒ€ì¼ */
        #mango {
            position: absolute;
            font-size: 4em; /* ë§ê³  í¬ê¸° */
            cursor: pointer;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* ì´ˆê¸° ì¤‘ì•™ ë°°ì¹˜ */
            z-index: 5;
            transition: opacity 0.1s; /* í´ë¦­ ì‹œ ì‚¬ë¼ì§€ëŠ” íš¨ê³¼ */
        }

        /* ê²Œì„ ì‹œì‘ ë²„íŠ¼ (ì¤‘ì•™ì— ìœ„ì¹˜) */
        #start-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px 40px;
            font-size: 1.5em;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 10px;
            z-index: 20;
        }

        #message-area {
            position: absolute;
            top: 70%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.8em;
            color: #333;
            z-index: 20;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
        }
    </style>
</head>
<body>
    <div id="game-area">
        
        <div id="status-bar">
            <span id="score-label">ì¡ì€ ë§ê³ :</span> 
            <span id="score-display">0</span>
            <span id="timer-label">| ë‚¨ì€ ì‹œê°„:</span>
            <span id="timer-display">30ì´ˆ</span>
        </div>

        <div id="mango">ğŸ¥­</div>

        <button id="start-button">ê²Œì„ ì‹œì‘!</button>
        
        <div id="message-area">ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë§ê³  ì‚¬ëƒ¥ì„ ì‹œì‘í•˜ì„¸ìš”!</div>
    </div>

    <script>
        const GAME_DURATION = 30; // 30ì´ˆ
        let score = 0;
        let timeLeft = GAME_DURATION;
        let gameActive = false;
        let timerId;

        const gameArea = document.getElementById('game-area');
        const scoreDisplay = document.getElementById('score-display');
        const timerDisplay = document.getElementById('timer-display');
        const mangoElement = document.getElementById('mango');
        const startButton = document.getElementById('start-button');
        const messageArea = document.getElementById('message-area');

        // ë§ê³ ë¥¼ ìˆ¨ê¹€ ìƒíƒœë¡œ ì‹œì‘
        mangoElement.style.display = 'none';

        // 1. ë§ê³ ì˜ ìœ„ì¹˜ë¥¼ ë¬´ì‘ìœ„ë¡œ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
        function moveMango() {
            // ê²Œì„ ì˜ì—­ì˜ í¬ê¸°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
            const areaWidth = gameArea.clientWidth;
            const areaHeight = gameArea.clientHeight;

            // ë§ê³ ì˜ í¬ê¸°ë¥¼ ê³ ë ¤í•˜ì—¬ ì•ˆì „í•œ ë²”ìœ„ ë‚´ì—ì„œ ë¬´ì‘ìœ„ ìœ„ì¹˜ë¥¼ ê³„ì‚°
            // ìƒë‹¨ ìƒíƒœë°” ë•Œë¬¸ì— Yì¶•ì€ 100px ì •ë„ ì•„ë˜ë¶€í„° ì‹œì‘
            const minX = 0;
            const minY = 100; // ìƒë‹¨ë°”ë¥¼ í”¼í•˜ê¸° ìœ„í•œ ìµœì†Œ Y ì¢Œí‘œ
            const maxX = areaWidth - mangoElement.clientWidth;
            const maxY = areaHeight - mangoElement.clientHeight;

            // 0ë¶€í„° ìµœëŒ€ê°’ ì‚¬ì´ì˜ ì •ìˆ˜ ë‚œìˆ˜ ìƒì„±
            const randomX = Math.floor(Math.random() * (maxX - minX + 1)) + minX;
            const randomY = Math.floor(Math.random() * (maxY - minY + 1)) + minY;
            
            // ìœ„ì¹˜ ì ìš©
            mangoElement.style.left = `${randomX}px`;
            mangoElement.style.top = `${randomY}px`;
            
            // ë§ê³ ë¥¼ ë‹¤ì‹œ ë³´ì´ê²Œ í•©ë‹ˆë‹¤.
            mangoElement.style.opacity = '1';
        }

        // 2. ë§ê³ ë¥¼ í´ë¦­í–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
        function handleMangoClick() {
            if (gameActive) {
                score++;
                scoreDisplay.textContent = score;

                // í´ë¦­ ì‹œ ë§ê³ ë¥¼ ì ì‹œ ìˆ¨ê¸´ í›„ ìƒˆ ìœ„ì¹˜ë¡œ ì´ë™
                mangoElement.style.opacity = '0'; // íˆ¬ëª…í•˜ê²Œ ë§Œë“¤ì–´ í´ë¦­í–ˆìŒì„ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œ
                
                // ë‹¤ìŒ ìœ„ì¹˜ë¡œ ì¦‰ì‹œ ì´ë™
                moveMango();
            }
        }

        // 3. ê²Œì„ ì‹œì‘ í•¨ìˆ˜
        function startGame() {
            gameActive = true;
            score = 0;
            timeLeft = GAME_DURATION;
            scoreDisplay.textContent = score;
            timerDisplay.textContent = `${GAME_DURATION}ì´ˆ`;
            messageArea.textContent = "ë§ê³ ë¥¼ ì¡ìœ¼ì„¸ìš”!";
            
            startButton.style.display = 'none'; // ì‹œì‘ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
            mangoElement.style.display = 'block'; // ë§ê³  ë³´ì´ê¸°

            // 1ì´ˆë§ˆë‹¤ ì‹œê°„ ì¤„ì´ëŠ” íƒ€ì´ë¨¸ ì‹œì‘
            timerId = setInterval(updateTimer, 1000);

            // 30ì´ˆ í›„ì— ê²Œì„ì„ ëë‚´ëŠ” íƒ€ì´ë¨¸ ì„¤ì •
            setTimeout(endGame, GAME_DURATION * 1000);
            
            // ì²« ë§ê³  ìœ„ì¹˜ ì§€ì •
            moveMango();
        }

        // 4. íƒ€ì´ë¨¸ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateTimer() {
            timeLeft--;
            timerDisplay.textContent = `${timeLeft}ì´ˆ`;

            if (timeLeft <= 0) {
                clearInterval(timerId);
            }
        }

        // 5. ê²Œì„ ì¢…ë£Œ í•¨ìˆ˜
        function endGame() {
            gameActive = false;
            clearInterval(timerId);
            timerDisplay.textContent = "ì¢…ë£Œ!";
            mangoElement.style.display = 'none'; // ë§ê³  ìˆ¨ê¸°ê¸°
            startButton.style.display = 'block'; // ì‹œì‘ ë²„íŠ¼ ë‹¤ì‹œ ë³´ì´ê¸°
            startButton.textContent = "ë‹¤ì‹œ ì‹œì‘";

            messageArea.innerHTML = `**ê²Œì„ ì¢…ë£Œ!**<br>ì´ ${GAME_DURATION}ì´ˆ ë™ì•ˆ **${score}ê°œ**ì˜ ë§ê³ ë¥¼ ì¡ì•˜ìŠµë‹ˆë‹¤.<br>ë‹¤ì‹œ ì‹œì‘í•˜ë ¤ë©´ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.`;
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²°
        startButton.addEventListener('click', startGame);
        mangoElement.addEventListener('click', handleMangoClick);
    </script>
</body>
</html>
